sudo: required

language: generic

git:
  depth: false

dist:
  xenial

cache:
  directories:
    - $HOME/.m2

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
  - secure: cwcNJuJVOPEc1OGCKx4bC1DtAonjlv9I+2CWjGd3bpD7SfLI6UQk4Pz4LEqQMeVAkb+4ChXRbpXJ0TXcNEFYSPyrnNH+6pOApH1/gM6hhQn++DLtmf5zO+G1DcflqLr0bja7P+R+pAZ7NWez/f1+CJ9w319GkzLXE8Pusm/PsjdP9FJpuA1R1723hrqXzDZz0nHqJ2g85zTp7uad3eTLhY/vIfQq+a204rUUsmFQ8qAYOkHF9NcytLo/Ye+jPTd6Jt1mUpskubc4A6Uu+E6X2KDQIAoUuJYhfGr1LvUi5hPpFY+m8zSvTyK2bgmbcrCxhVJt+2tVFLjWIVzxCo1M7jZNvjY7IelAVW3eQ/v/IYK3mlBhdlX3edBlW8ukwqJLjoxnc+G+wVPx6j9mbFpTtAiX1JXC2CtYGqcx9bWy0iu2Itjj4llkYxO0LozCP0HDqunvMDXt+H6gVojyknxHoonwD4i4ai/xrhLnpFHzEgBVXvmjLCA4idVCVkelLRjlPdoxjkYnFIzynbuIHIXsM3/Hbw7sJyL4tut4RrScwxZnE3QOhZOs24xBzpNXMVnhWdjYNtP4+YsCYWb2jEvc8JwraD6CnJy8VAzvBCDbETJosnBoNWqKEmtrVoEJSqxE8vRIvAmqBg7Iy5MgHt9ajdvymGZsLdju2x/rcKrwFpY=
  - secure: fHi5pWzeiK4K47m2E6hAuCs38e1i0Fur3QZ6YNVwUMulWBjW4gOFOB1PhpTL72DUQXEJteD6VAAznP0wR2p3J9Wsu9eBcg1ZUoXTa2/mD9i7eUMHG0r49/Uq6U+tD4mYG64QLKv+9FYsS0Cnk2E2BZ3ti8k3f8pY/vbzDUtcfPbW6f0uWkCD3lxQ86uKYm1K+iGjXoMTqff7y92yjGINgP8l2rB1MZy7dQ7sTUqp5njYzogi789COvHJ24oe2Eo+GD7WoYsG15z2uwTZ+UekechD8g2IEYXObAwKn1Yt8aMRR3vVcY7NADAfbIlRE9O2vuB7cLt4jsn300LbDENjn54vl/g7qaPfaPXd7aADXTWBbsNkGyRhCX+q0qRc+4fSDi6MfO5DEPEngyYXXQRSj5G3fPqHa/nzBgn025fEWP8wkQU0DeZICwSOZxuXa4unGYQ2MDYRowSSQ78SxSZpdypE/1WrDHHkxIV7JgTsir8wnQ+uUcsuLCAtpTlhumQjujrEMyCxAiN3EewWk/9A+o9BoHb1z7hsubPuInUp0wADd6bo9EeWzmMCgSz43lrEQ0F6BUyR3NLMc7lp6AfYXdEFFb1DV8M3pUrvl8Ri2/jXxcs9rIvkA7NxRQDXpSWynBLZDvqwPuqtXetZ5nC57DMjOLb2XD/JnlIpdCLO7zY=
  - secure: nw+4DWsue05EBNQBRuZjzVlQip+f76w1h/gegcXs0pr++MdULp+eOfLqi8CCIr3O27JdOTML7rdOSSnUJQD9tuw8YSmavFWu1QujnN3s7z3up4k5ktxgeTs/Ht0tzzjPpjQLlXZhRWto4zNq3dbAhtlKZ6MA++WV3ricj7qcpHsi1KHTlMVYifIKs8SD4Z9YKx+0bWi2yVA32LSN/Y89RkpITkaTteWkDUzBZ7RqlKRQyCzPr3FKdF/fcEN1hXVCBKKimPlCGbDYT2l2jDzk6jBaACOgoIKc84fuvm5+iOG6G/rSo6DH5Pt7j7+oe/lJ7GF+R6/qu2nV8+FxOo9wdZaF1w8d2S+4R+0WTg4KTVcQ8D4otO2FTRwe6u65GLj08Sys/kccKnXzArEMPH1gpngQDnuFDLUNq0/wYrZcJdnZ4nz2c/6b3mVdBXmy4ImKe+TqjaIHBszctmDiciiYfWPYQfGw4szZw9ayeqeHXkwHaSV8v47K8h0pFXuZjHkkMCaty89EbWfyOW+tHe2i74+8qZI7DAZwkJOFSewxXpg582ahCtxfDhEHZRcTNn4CaWETgUqd1DfJvwQEGUGVzS2MUk6eI4Hvgj8SHdBkfkkzGMgxRhN65xQw5r9akdOGJVBWVatIXS/ie7kpuSk3/y8egjrufK4aUQhaFfHqrTI=
  - secure: ZJsXhoEKMyE9Yy2Ud4lT9mzBM9h/ZMsGXXJtCilgneatp6n3NqLGwPIEyQPjpvxla0LRk0EkYiz+eJCSOEEy0uadskMNfwW051gmkC8gnwHaIFlaJOom72jLOi+WzGSA8Chne9Vs+AUgc92Ups9gJxwsIDF4dPojYHAMD/SCDr3wdCUZIgaoYsRO70S6mMe2gp2YiLDgDgNo07lo95jFjw7w8i+1cYJDjhxjEOzNlDtpEGjno2if1ojwxxqfw/Yr3MbYZs9obJUZK6kWm4pbWIzyRvmc7QGr6cjQaxZ5xa0NiB1ZFBX8XYdJSHNzGwYojapWm1nNBrOGW7jY3yWLuBN8VfFIzHdQFTENDfHG6sRHONe2vRdn8rBwDt0x6z7i85KSeR0XpVnaiDSRd0IEf+ys02UbGU0pDa1dod6s79cqzs2Ivrm29d8CGj6TAEmb3CJr63ka/AES5SVptuPw5RHLDg59WKpF1Wg6Ocx91jiY3f6XwpkfiEQox/zvf3Hrvljp/c0WB3llXISz2NyIrp4e03xiH21IWjH78Dl53bEhWeyRehXTBn9w5uSB6VzPzjg1J8bCC8x8JHuvoOnBNfaux8xE5RqPPgJau6E3ytmt6OGtdy35UGqDCvWcWIz0sdhRMgXuuPfdC3IfXcx1C7XgwgPMeS7cUDHCL65yZMs=
  - secure: j85q/3rI0C6Z0l2GAJ9zRM2RnximdU4KzEdiuDJFTPjlQx+9VQGy/g2eHNZVTY9jtcCylpBs+p/Q3TYV/Z4gNQfrK97PIilJU046AcwEtiPAoW5wGVAMyBg/nyDh9Th/vgrOMKNzwYgsMXFyymJkX3CPwmTbQAMod/ouJZmYFCew5YB6QcKsD0eNiA+2c+KWU7u2UM7tlx45rXky/Z+fIhksm3ftryl5tjJslqEwcm/N2mX2FxIljo3ubK8Sa+6fvjQ2OKKxoxQpREPB0qejioNx1fQAhuwHqnLpLuEXahDCo1WbNbdJDfs2vzdk8rW2ye2+gcM5FyFIAEkrpnEg9ilw4INAPJ4dHB4mfcn7VynDi2pL0eXVU2g1n30mjhLQAJ6wCtIThUFAmYzc8Cfx3Ps86bYyYIFgZxG/qZ2QaFoOatAIQxXI9zRFVzBuobdljhgARAFaW9PYtZRY/w06mlkYCvjjbsssyG6qvRZ/lAtZcp+jxJ/Zbyi4ocQwY8cPC/PhE+kt1uTCONVKLLgFM1EYPfXV2OGrTKCjx3KPypRU0Bm7Z7x6Y7As5gI7nX0wswjI+NKJtsC+3yU0ZtOYqdBNnxYi2R+wl5H03OqXwL6exeME220Ix5a7WKg7E+rXVcYJSPXQaEZqMFqCKD0scEHntWfUpFvKyINwfs+Fb4Q=
  - secure: rZKliTB4XLdcv/N/4PsmAXukBAw0XLFphoI3Jx7Gf+G9Aw2XDNmRmfEQKxXIkeSkO+AmkBKhVYHn0wNInHeDoKUIeqllTttBxY13l2h8aVETpnYGAHgmXhIOJVrX770M6a8F1l8Sl//edPPbT92tqKE/hWQbdg8CUmvYrRDPipQ1QlXC7Oe/AUskI7LpTKAeuxh9pM0RNyHkDTm3CaK1SbCy12KN+wF7eSk9LuZaV+Nx79nd4lmk0B9W2eVFELbT/XQ35gm/l6u2xKQ8x0j5x0iEviSnSQYCKuU+MpgbPEolcKZQvL3rHxnWrtghW5FfMfDB90kV5bqNA28EHQ1G7Xs+OnmuKpxZyaq6rLqGggB6dknucUpvnsoEuZPio/8WPHNG35d/fzYx8Qoda5lRy5MhLcdg0FdHqwFXVEs8JJ+TcrBnACMA0bImD7ZEFo4+bUPs7j88LXTYwwH6MuGJZCP+/hd4XA0o5kFbQ1Yuh6arakjoOMSrF5l09I+l43+vBud4d70LApa/LOgeUJLj2DAK7DwCIkpX4rbUn9s18NVDmf28/6PX9F1wdBLTmdGdChzHIVdGP1mg1Z2CgLgbvLr3c4wkclJheGSXw//kkkhzQvSIxTKlcJP5d0t1HeXb0u1IEPDhoL2YSi5fXfTgU7ZyGWf/rHq1SF8PsxFcmls=
  - secure: Gpc5pENkdy86DpZ40TW81JWWL9uf7Xb01kbrS+FCy939jXzuBeC06npJMfXuM+KuBoKVIRTZP4hEw9JH3CRm+sKW42AGFoIyGzDZpYDHB5+uXoSkf8Yr/lGYjnSPdTe5sW8fIF2P7M4NNkfk7dlsNVAOL5rOUT6kRRcmv6DaeFh3APkRHoixXssFcLTy+kPc0RN+7m6P3/LeECKcuGKJikCCrTRE0xhf/ULEQGT3+IY4z9OblX77nHXZuKptjqOiw6LzKHeYSBSwOum554+p+NBJFW48s4nfPNUTlqy335MGA16MA5zm5iiVPl7EiqBdDdbiSyH7ZAJFhbRmY1jUASvpbJTWkOIj/P641vTw9TEGpuep3K33pd8Nje/56lvWZp9WR+mEPLXADAbyLa8bz/FWuqEazv8w44VGlsw5FgaIjFWLUEHF5yjKWVJJQXKIDsG7D40zOb3bF61XJ/unU/pCIbCwB1TqoQ4rRpKKWieEPNNgLUF4/nm0UB7F84pbeVOURKo0+pWdCXZns4W4TzKSyjBdffokYgEaUHHpPV+X8Yi/EkT16lukrAmSf9+YdhHdYj10CYDUlv6JC2Z8xjUJuqEb62ed2uCCaNzTY3rntg4Z0UBuxD7irf77BFdu/0BS50GeZpcdw+HxZJm1r4SjH/4bbFdETwUN25DIaz8=
  - secure: DE5sDoPhJ+RC8doNhTLsO3P/mkZMPmBEFXDuN8AtVTcAmQgp6CpFGtPgRM70D/UOAD0M19iOkra8WKYLZT3zHirdF1UsuRQkwTnoIzjL/UchhSk2z/DxeWobJMOm9OiieCJWigtsgE8CIbE4IS19zBlzX9vNeqF+/fkOtMMXPNGDHUzgIwl65KUKEkvLJINyR8owL9AJeTU8rw+6zIQzaFtOuxyRHX8YLyfCMT+SgeT+6Xk3dHQCuQIxU5OcKA1nENBzDilCRYECel41geW2L6Xp9hHjTgCPpNvnFC9P/8KdVMpBJ36AGbeEgumux+n108UPY6o57rPKZwvyR/+hAz6BDI9wo0OiFu5yJYobaCC/iqAld3zKi4dLvDbppYaMkYIL1dt3jhSLn3avr3PAT8yB0ujS24/uuTXU2UwN4VWnzA7CwmW3M6ZbbAp9ag/hosJYg9tu1ABRzEnKuNGmO2WXV1xKsxakVgeuHof5Ig336GlBcU8jJ5wttr5IIVCibrYWTBQxbDjfcn0HPHF/ExUPdXhl/qZZiBZYgOug1RCap981NkC5qANCtaAQun185AkWcFyEYqfcZqtYIPpLaAv0NrubslwWHmp9HKtki/EY+/TdQlnQ6dN0+O7ZgWFX8gCBVubDOKFRBp4UQnwrdj/u/20i5OXdRJoWdlsR2tY=
  - secure: VFOTKLusF1LgUAKaD2ZWXpmasU5k9unkDUu/M3qYZ3EDo3aDvUaSvh2REbDuO9vHZTZxStbW93dznLwF9ke8L/MjMRjmZDYOhKlrHj7U6bQZqLioCVbWg9G3QlYcS48tOD9a5cLOS+TEFCKml9Bkl4Skhkt49uyF5ZcvtjH9jXkol4k4XfNZGutYdQmEy1PzycXqtzhvxnSzw8WMzYBpeH/jk1K3TJc0AJb/aQTyYTlG0aSSr/GFrC0MbcJAGSQD2ZSnquVSKXQJ/I3Uab17NvF3F64IpLOdutcyoBqSgTjK71btykYecIKi+AwWUYntkChNpX/AvVmhTqPstmu1xWZ83nMxbsCu36kTiF8mNuLPtZQEmiB3Z88KGsBKQLeI+BdXluJ1EftOaXOruQy0rnWkAp2MUR8Jlhh1jmi3BOk7YX/m5y2FOuuNGMPeLNAhtoqXp+gvmP/YMS9YMjAW7UTzJ8qGg1s31dKg/lHjwpkk/Q6ZmI98ucqlYo9g/7Kvl4OcQJ0SoxCBOzdMrfnbS7hdblx+GwSZ3KrzgALALJapK4DCiCQ1kuuiAxVHcsuEsvlJkYFAg8mq3YIdmVRDQnvIUONFXg/M1edT/gRIiZiyH6tDWjrUdcOLUJnRkQhtil3cshPNchF2qh0eqf3l3hPQQ1eIQR9blF3eaAaImnY=

script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -v $HOME/.m2:/root/.m2 -e USER_REPO=$USER_REPO -e USER_PASSWORD=$USER_PASSWORD -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION moussavdb/build-java ./deploy-maven-central.sh
